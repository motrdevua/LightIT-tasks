"use strict";var url="https://randomuser.me/api/?format=json&results=10",output="";function generateUser(e,a){var s="";s="female"===e.gender?'<i class="fas fa-female" data-fa-transform="shrink--32"></i>':'<i class="fas fa-male" data-fa-transform="shrink--32"></i>',output+='\n    <li class="user-list__user user">\n      <div class="user__short short">\n        <div class="short__item avatar">\n          <img class="avatar-small" alt="avatar" src="'.concat(e.picture.medium,'">\n        </div>\n        <p class="short__item last-name">').concat(e.name.last,'</p>\n        <p class="short__item first-name">').concat(a,'</p>\n        <p class="short__item username">').concat(e.login.username,'</p>\n        <p class="short__item phone">').concat(e.phone,'</p>\n        <p class="short__item location">').concat(e.location.state,'</p>\n        <div class="short__item plus">\n          <i class="fas fa-plus" data-fa-transform="shrink--24"></i>\n        </div>\n      </div>\n    <div class="user__details details">\n      <div class="details__item ins">\n        <div class="ins__item person">\n          <p class="person__first-name">').concat(a,'</p>\n          <div class="person__gender">').concat(s,'</div>\n        </div>\n        <p class="ins__item username"><span>Username</span> ').concat(e.login.username,'</p>\n        <p class="ins__item registered-date"><span>Registered</span> ').concat(e.registered.date.split("T")[0],'</p>\n        <div class="ins__item email">\n          <p class="email__title" >Email&nbsp;</p>\n          <a class="email__address" href="mailto:').concat(e.email,'">').concat(e.email,'</a>\n        </div>\n      </div>\n      <div class="details__item ins">\n        <p class="ins__item location"><span>Address</span> ').concat(e.location.street,'</p>\n        <p class="ins__item location"><span>City</span> ').concat(e.location.city,'</p>\n        <p class="ins__item location"><span>Zip Code</span> ').concat(e.location.postcode,'</p>\n      </div>\n      <div class="details__item ins">\n        <p class="ins__item birthday"><span>Birthday</span> ').concat(e.dob.date.split("T")[0],'</p>\n        <div class="ins__item phone">\n          <p class="phone__title" >Phone&nbsp;</p>\n          <a class="phone__number" href="tel:').concat(e.phone,'">').concat(e.phone,'</a>\n        </div>\n        <div class="ins__item cell">\n          <p class="cell__title" >Cell&nbsp;</p>\n          <a class="cell__number" href="tel:').concat(e.cell,'">').concat(e.cell,'</a>\n        </div>\n      </div>\n      <div class="details__item ins avatar">\n        <img class="avatar-big" alt="avatar-big" src="').concat(e.picture.large,'">\n      </div>\n    </div>\n    </li>\n  ')}function showHide(){for(var n=document.querySelectorAll(".plus"),t=document.querySelectorAll(".details"),e=document.querySelectorAll(".user"),a=function(s){e[s].addEventListener("click",function(){if(t[s].classList.contains("active"))t[s].classList.remove("active");else{for(var e=0;e<t.length;e+=1)t[e].classList.contains("active")&&t[e].classList.remove("active");t[s].classList.add("active")}if(n[s].childNodes[1].classList.contains("fa-plus")){for(var a=0;a<n.length;a+=1)n[a].childNodes[1].classList.contains("fa-minus")&&(n[a].childNodes[1].classList.remove("fa-minus"),n[a].childNodes[1].classList.add("fa-plus"));n[s].childNodes[1].classList.remove("fa-plus"),n[s].childNodes[1].classList.add("fa-minus")}else n[s].childNodes[1].classList.remove("fa-minus"),n[s].childNodes[1].classList.add("fa-plus")})},s=0;s<n.length;s+=1)a(s)}function generateList(){var o=document.querySelector(".user-list");fetch(url).then(function(e){return e.json()}).then(function(e){var a=e.results;a.forEach(function(e){generateUser(e,e.name.first)}),o.innerHTML=output,showHide();var s=[{label:"Male",value:0},{label:"Female",value:0}];a.forEach(function(e){"male"===e.gender?s[0].value+=1:s[1].value+=1}),function(e,a){var s=document.querySelector(".modal__chart");s.width=800,s.height=726;var n,t,i,c,l=s.getContext("2d"),o=s.width/2,r=s.height/2,d=function(e){for(var a=0,s=0;s<e.length;s+=1)a+=e[s].value;return a}(e);function u(e,a,s){return function e(a,s,n){return a[s].value/n*360+(0===s?0:e(a,s-1,n))}(e,a,s)*Math.PI/180}for(var m=0;m<e.length;m+=1){n=a[m];var p=(t=e,c=d,0===(i=m)?0:u(t,i-1,c)),h=u(e,m,d);l.beginPath(),l.fillStyle=n,l.moveTo(o,r),l.arc(o,r,r-200,p,h),l.fill(),l.font="13px sans-serif",l.fillText("".concat(e[m].label,": ").concat((e[m].value/d*100).toFixed(1),"%"),s.width-440,r-500*m+250)}}(s,["#7db6ed","#434348"]);var n=document.querySelector(".show-chart"),t=document.querySelector(".modal"),i=document.querySelector(".modal__chart");n.addEventListener("click",function(){t.classList.toggle("hidden"),t.classList.contains("hidden")?n.textContent="Show Chart":n.textContent="Hide Chart"}),document.addEventListener("click",function(e){e.target!==n&&e.target!==i&&(t.classList.add("hidden"),t.classList.contains("hidden")?n.textContent="Show Chart":n.textContent="Hide Chart")});var c=document.querySelector(".search__field");c.innerHTML;function l(){var s,n=this;(s=this.value,a.filter(function(e){var a=new RegExp(s,"gi");return e.name.first.match(a)})).map(function(e){console.log(e.name.first),console.log(""),o.innerHTML="";var a=new RegExp(n.value,"gi");generateUser(e,e.name.first.replace(a,'<span class="hilight">'.concat(n.value,"</span>")))}).join("")}c.addEventListener("change",l),c.addEventListener("keyup",l)}).catch(function(e){return console.log(e)})}function generatePage(){document.body.innerHTML='\n  <div class="wrapper">\n    <form class="search">\n    <input type="text" class="search__field" placeholder="First Name">\n    </form>\n    <a class="show-chart">Show Chart</a>\n    <div class="head">\n      <p class="head__item"></p>\n      <p class="head__item">Last</p>\n      <p class="head__item">First</p>\n      <p class="head__item">Username</p>\n      <p class="head__item">Phone</p>\n      <p class="head__item">Location</p>\n      <p class="head__item"></p>\n    </div>\n    <ul class="user-list"></ul>\n    <div class="modal hidden">\n      <h2 class="modal__title">Gender of users</h2>\n      <canvas class="modal__chart"></canvas>\n    </div>\n  ',generateList()}document.addEventListener("DOMContentLoaded",generatePage);